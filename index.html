<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors!</title>
</head>
<body>
    <div>
        <button class = 'rock'>Rock</button>
        <button class = 'paper'>Paper</button>
        <button class = 'scissors'>Scissors</button>
    </div>
    <script>
        //Declaring some variables for messeges based on who wins the match
        let playerW = 'Player wins!'
        let computerW = 'Computer wins!'
        let gameTie = "It's a tie!"
        //Function for creating the computers choice
        getComputerChoice = function() {
            //Empty string to be filled in with computers choice
            let compChoice = ''
            //Number 1 through 9 will determine the computers choice
            let i = Math.floor(Math.random() * 10)
            if (i === 1 || i === 2 || i === 3) {
                compChoice = 'rock'
            } else if (i === 4 || i === 5 || i === 6) {
                compChoice = 'paper'
            } else {
                compChoice = 'scissors'
            }
            //Return computers choice
            return compChoice
        }
        //Function that evaluates the players choice against the computers choice
        playRound = function(compChoice, playerChoice) {
            //Result is filled in after choices are evaluated
            let roundResult = ''
            //Check the players choice against the computers choice
            if (playerChoice === 'rock' && compChoice === 'scissors') {
                roundResult = playerW
            } else if (playerChoice === 'paper' && compChoice === 'rock') {
                roundResult = playerW
            } else if (playerChoice === 'scissors' && compChoice === 'paper') {
                roundResult = playerW
            } else if (playerChoice === compChoice) {
                roundResult = gameTie
            } else {
                roundResult = computerW
            }
            //Return result of match
            return roundResult
        }

        //Function that plays a 5 round game
        game = function(){
            //Points start at 0
            let playerPoint = 0
            let computerPoint = 0
            //A bout of 5 rounds begins
            for (let i = 0; i < 5; i++) {
            //Players submit their choices
            let compChoice = getComputerChoice()
            let playerChoice = prompt('Rock, paper, scissors!')
            //Make sure player types in the appropriate words 
            while(true){
                playerChoice = playerChoice.toLowerCase()
                    if (playerChoice === 'rock' || playerChoice === 'paper' || playerChoice === 'scissors') {
                    break
                    } else {
                    alert('Please type in rock, paper, or scissors.')
                    playerChoice = prompt('Rock, paper, scissors!')
            }
        }
            //A round is played
            let round = playRound(compChoice, playerChoice)
            //Messege after each round
            let roundMessege = `Computer chooses ${compChoice}! ${round}`
            //Who won? Give em a point!
            if (round === playerW) {
                playerPoint += 1
                alert(roundMessege)
            } else if (round === computerW) {
                computerPoint += 1
                alert(roundMessege)
            } else if (round === gameTie) {
                alert(roundMessege)
            }
            }
            //Messege after game
            let gameMessege = `Player: ${playerPoint}. Computer: ${computerPoint}.`
            //Who has the most points? They are winner!
            if (playerPoint > computerPoint) {
                gameMessege = gameMessege +' '+playerW
            } else if (computerPoint > playerPoint) {
                gameMessege = gameMessege +' '+computerW
            } else if (playerPoint === computerPoint) {
                gameMessege = gameMessege +' '+gameTie
            }
            //Return a messege that includes points, and the winner of the match
            return alert(gameMessege)
        } 
        game()
        while (true) {
            let playAgain = confirm('Would you like to play again?')
            if (playAgain) {
                game()
            } else {
                break
            }
        }
    </script>
</body>
</html>